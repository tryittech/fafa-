# ğŸ”’ å®‰å…¨æ€§è¨­å®šæŒ‡å—

## å•é¡Œåˆ†æ
æ‚¨çš„ç¨‹å¼è¢«é›»è…¦è­˜åˆ¥ç‚ºã€Œæœªè­˜åˆ¥çš„ç¨‹å¼ã€ï¼Œé€šå¸¸æ˜¯å› ç‚ºï¼š
1. ç¼ºå°‘æ•¸ä½ç°½åæ†‘è­‰
2. å®‰å…¨æ€§è¨­å®šä¸è¶³
3. é˜²æ¯’è»Ÿé«”èª¤åˆ¤

## å·²å®Œæˆçš„å®‰å…¨æ€§å„ªåŒ–

### å¾Œç«¯å®‰å…¨æ€§åŠ å¼·
1. **Helmet å®‰å…¨ä¸­é–“ä»¶å‡ç´š**
   - æ·»åŠ  Content Security Policy (CSP)
   - åŠ å¼· XSS ä¿è­·
   - é˜²æ­¢é»æ“ŠåŠ«æŒæ”»æ“Š

2. **ESLint å®‰å…¨æ€§è¦å‰‡**
   - æ–°å¢ `eslint-plugin-security`
   - æª¢æ¸¬æ½›åœ¨å®‰å…¨æ¼æ´
   - ç¨‹å¼ç¢¼å“è³ªä¿è­‰

3. **ç’°å¢ƒè®Šæ•¸è¨­å®š**
   - å‰µå»º `.env.example` ç¯„æœ¬
   - æ•æ„Ÿè³‡è¨Šéš”é›¢
   - é…ç½®æ¨™æº–åŒ–

### å‰ç«¯å®‰å…¨æ€§ä¿®å¾©
1. **API ç«¯é»ä¿®æ­£**
   - ä¿®æ­£ Vite ä»£ç†è¨­å®š (5000 â†’ 5001)
   - ç¢ºä¿å‰å¾Œç«¯é€£æ¥æ­£å¸¸

## è§£æ±ºã€Œæœªè­˜åˆ¥ç¨‹å¼ã€å•é¡Œçš„æ­¥é©Ÿ

### 1. ç«‹å³åŸ·è¡Œå®‰å…¨æ€§æª¢æŸ¥
```bash
# å¾Œç«¯
cd backend
npm install
npm run security-check
npm run lint

# å‰ç«¯  
cd ../frontend
npm install
npm run lint
```

### 2. ç¨‹å¼ç¢¼ç°½å (æ¨è–¦)
å°æ–¼ macOSï¼š
```bash
# ç²å–é–‹ç™¼è€…æ†‘è­‰
# 1. è¨»å†Š Apple Developer Program
# 2. ç”Ÿæˆç¨‹å¼ç¢¼ç°½åæ†‘è­‰
# 3. ç°½åæ‡‰ç”¨ç¨‹å¼
codesign --deep --force --verify --verbose --sign \"Developer ID Application: Your Name\" your-app.app
```

å°æ–¼ Windowsï¼š
```bash
# ç²å–ç¨‹å¼ç¢¼ç°½åæ†‘è­‰
# ä½¿ç”¨ SignTool ç°½å
signtool sign /a /t http://timestamp.digicert.com your-app.exe
```

### 3. å»ºç«‹ä¿¡ä»»æ¸…å–®
æ·»åŠ æ‡‰ç”¨ç¨‹å¼åˆ°ç³»çµ±ä¿¡ä»»æ¸…å–®ï¼š

**macOSï¼š**
- å‰å¾€ã€Œç³»çµ±åå¥½è¨­å®šã€>ã€Œå®‰å…¨æ€§èˆ‡éš±ç§æ¬Šã€
- åœ¨ã€Œä¸€èˆ¬ã€æ¨™ç±¤ä¸­å…è¨±æ‡‰ç”¨ç¨‹å¼åŸ·è¡Œ

**Windowsï¼š**
- æ·»åŠ è³‡æ–™å¤¾åˆ° Windows Defender æ’é™¤æ¸…å–®
- æˆ–ä½¿ç”¨ Windows SmartScreen è¨­å®š

### 4. å»ºç½®å„ªåŒ–è¨­å®š

ç‚ºäº†æ¸›å°‘èª¤åˆ¤ï¼Œæ·»åŠ å»ºç½®å„ªåŒ–ï¼š

```javascript
// frontend/vite.config.js é¡å¤–è¨­å®š
export default defineConfig({
  // ç¾æœ‰è¨­å®š...
  build: {
    outDir: 'dist',
    sourcemap: false, // ç”Ÿç”¢ç’°å¢ƒé—œé–‰ sourcemap
    minify: 'terser',
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom', 'antd'],
          charts: ['recharts'],
        }
      }
    }
  },
  define: {
    __APP_VERSION__: JSON.stringify(process.env.npm_package_version),
  }
})
```

## åŸ·è¡Œå»ºè­°

1. **ç«‹å³åŸ·è¡Œ**ï¼šé‹è¡Œå®‰å…¨æ€§æª¢æŸ¥è…³æœ¬
2. **çŸ­æœŸè§£æ±º**ï¼šæ·»åŠ åˆ°é˜²æ¯’è»Ÿé«”ç™½åå–®
3. **é•·æœŸè§£æ±º**ï¼šç²å–ç¨‹å¼ç¢¼ç°½åæ†‘è­‰
4. **æŒçºŒç›£æ§**ï¼šå®šæœŸåŸ·è¡Œå®‰å…¨æ€§æƒæ

## é©—è­‰æ­¥é©Ÿ

åŸ·è¡Œä»¥ä¸‹å‘½ä»¤é©—è­‰ä¿®å¾©ï¼š
```bash
# å¾Œç«¯å®‰å…¨æ€§é©—è­‰
cd backend
npm audit
npm run lint

# å‰ç«¯å»ºç½®é©—è­‰  
cd ../frontend
npm run build
npm run preview
```

æ‰€æœ‰æª¢æŸ¥é€šéå¾Œï¼Œç¨‹å¼æ‡‰è©²ä¸å†è¢«æ¨™è¨˜ç‚ºã€Œæœªè­˜åˆ¥ã€ã€‚